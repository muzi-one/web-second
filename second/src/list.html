<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>图书列表页</title>
    <link rel="stylesheet" href="./css/normalize.css" />
    <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/list.css" />
    <script src="./js/jquery.min.js"></script>
  </head>
  <body>
    <!-- 侧边栏 -->
    <div class="Left">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="./login.html">首页</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="">图书列表</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="./addlist.html">添加图书</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">关于</a>
        </li>
      </ul>
    </div>
    <div class="Right">
      <!-- 主体 -->
      <h1>图书列表页</h1>
      <div class="list">
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>图书封面图片</th>
              <th>id</th>
              <th>图书名称</th>
              <th>作者</th>
              <th>出版社</th>
              <th>出版日期</th>
              <th>库存数量</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="tb"></tbody>
        </table>
      </div>
      <a href="./addlist.html"><button type="button" class="btn btn-primary btn-add">登记新图书</button></a>
    </div>
  </body>
  <script>
    $.getJSON('data/data.json', function (data) {
      let str = ''
      data.forEach((item) => {
        str += `<tr>
          <td class='.book-img'></td>
          <td>${item.id}</td>
          <td>${item.bookname}</td>
          <td>${item.author}</td>
          <td>${item.publisher}</td>
          <td>999</td>
          <td>${item.date}</td>
          <td>
              <a data-id="${item.id}" class="detail" href="javascript:;">
                <button type="button" class="btn btn-success">查看</button>
                </a>
              <a data-id="${item.id}" class="delete" href="javascript:;">
                <button type="button" class="btn btn-danger">删除</button>
                </a>
          </td>
          </tr>`
      })
      $('#tb').html(str)
    })
  </script>
</html>
